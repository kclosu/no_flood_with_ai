# Прогноз уровня воды в реке Амур

В решении для показаний каждого гидропоста строится отдельная модель временного ряда.

Для прогнозирования временных рядов использована библиотека `Facebook Prophet`. С помощью неё осуществляется процедура подгонки [аддитивных регрессионных моделей](https://en.wikipedia.org/wiki/Additive_model) со следующими компонентами: 

$$ y(t)=g(t)+s(t)+\epsilon_t$$

- *тренд* $g(t)$ (моделируется с помощью кусочной линейной регрессии или кусочной логистической кривой роста);
- *годовая сезонность* $s(t)$ (моделируется как ряд Фурье);

* Ошибка $\epsilon_t$

где $y(t)$ — уровень воды.

### Метеоданные

В качестве независимых переменных были добавлены погодные признаки:

* сумма выпавших осадков за сутки,
* средняя температура воздуха,
* средняя температура почвы.

Данные метеопризнаков были получены методом ординарного *кригинга* или Ordinary Kriging (OK) с метеостанций, расположенных в пределах бассейна реки Амур. 

### Прогноз погоды

Для прогнозирования уровня воды нужен прогноз метеоданных, в предложенном решении используется прогноз погоды глобальной модели атмосферы **GFS**.

### Возможности улучшения качества прогноза

* Предсказывать не исходный ряд, а, например, после [преобразования Бокса-Кокса](http://www.machinelearning.ru/wiki/index.php?title=Метод_Бокса-Кокса)

* Добавить в уравнение компонент $h(t)$ для резких изменений уровней, сопряженными с особо интенсивными осадками, вызванными тайфунами
* Добавить другие погодные переменные, такие как облачность, влажность почвы, скорость ветра
* Настроить параметры модели
